---
layout: post
title: 复制集和分布式
date: 2021-02-25
categories:
- talk
---

**复制集和分布式**

- 集群：字义理解，多台机器；

- 复制集：多台机器

  * 一份数据，保存在不同机器上，每台机器保存的数据是一样的；数据备份

  - 示例：幼儿园分蛋糕，很多份蛋糕，每个蛋糕是一样；
  - 作用：数据的**高可用**；1台机器挂了，数据还有备份；

- 分布式：多台机器

  * 一份数据，保存在不同机器上，每台机器保存的数据是一部分，合在一起，是一份数据

  - 示例：幼儿园分蛋糕，一份蛋糕，每个蛋糕是一部分；
  - 作用：**高吞吐**，1台机器挂了，不影响整体的运行；
  - 示例：5台django，1台处理请求100个，5台可以处理500个，1台挂了，不影响其他4台机器；

- 总结：

  - 开发中，描述多台机器处理请求、处理数据，**分布式集群**；
  - **分布式一定是集群**
  - **集群不一定是分布式，有可能是主从**

- redis：

  - 主从：复制集，一主多从，多台机器，保存数据都是一样的；比如：1主3从，4台数据相同
  - 分布式：
     * **没有多主多从**(复制集)，数据是分块保存，3主3从，6台数据是不同
     * **redis的分布式已经包含了复制集**
---
layout: post
title: 防火墙
date: 2020-09-08
categories:
- network
---
**基本概念**

> * 定义: 具备安全防护功能的网络设备
>
>   * **隔离**网络:
>
>     * 将需要保护的网络与不可信任的网络进行隔离, 隐藏信息并进行安全防护
>
>       路由器和防火墙的区别?
>
>       * 路由器默认都能过, 并用ACL限制某些流量不让过;
>       * 而防火墙默认谁也不让过, 写策略去决定哪些流量可以放行

**基本功能**

> * 访问控制
> * 攻击防护
> * 冗余设计
> * 路由, 交换
> * 日志记录
> * 虚拟专网VPN
> * NAT地址转换

**防火墙产品及厂家**

> * H3C U200系列
> * juniper 550M
>   * 并发(新建)连接数: 同时保持活动状态的会话数极限
>   * 并发连接数范围: 同时维持的会话总数
> * 天融信
> * 启明星辰
> * 华为
> * 锐捷
> * Cisco

**区域隔离**

> * 区域隔离的概念
>   * <高>内部区域
>   * <中>DMZ区域: 称为"隔离区", 也叫"非军事化区/停火区"
>   * <低>外部区域
> * 高区域 ----> 低区域 : 一律放行
> * 低区域 ----> 高区域 : 需要策略

**IPS(入侵防御系统)和IDS(入侵检测系统)**

> * 工作在第五层
> * IDS 旁路 不牺牲性能   价格便宜  只能警告不能防御
> * IPS 串联 牺牲性能  价格贵  可以防御

**防火墙的分类**

> * **按防火墙形态分类**
>   1. 软件防火墙
>   2. 硬件防火墙
> * **按技术实现分类**
>   1. 包过滤防火墙
>   2. 状态检测包过滤防火墙
>   3. 应用(代理)防火墙
>   4. WAF(Web应用)防火墙
>   5. 应用层防火墙(上网行为)

**防火墙的发展历史**

> * **包过滤防火墙**
>   * 最早的防火墙技术之一, 功能简单, 配置复杂
> * **应用网关/应用代理防火墙**
>   * 最早的防火墙技术之二, 连接效率低, 速度慢
> * **状态检测防火墙**
>   * 现代主流防火墙, 速度快, 配置方便, 功能多
> * **DPI防火墙(Deep Packet Inspection)**
>   * 未来防火墙的发展方向, 能够告诉的对第七层数据进行检测

**包过滤防火墙**

> * 也称 "分组过滤防火墙"  (Packet Filtering)
> * 根据分组包的 源/目标地址, 端口号以及协议类型
> * 优点: 高效, 透明
> * 缺点:  对管理员要求高, 处理信息能力有限

**应用网关型防火墙**

> * 也称"应用代理防火墙"
> * 每个代理需要一个不同的应用进程, 或者一个后台运行的服务程序, 对每个新的应用必须添加针对此此应用的服务程序, 否则不能使用该服务
> * 优点: 安全性高, 能检测内容
> * 缺点: 连接性能差, 可伸缩性差

**状态检测防火墙**

> * 从传统包过滤防火墙发展而来, 除了包过滤检测的特性之外, 对网络连接设置状态特性加以检测
> * 优点: 减少检查工作量, 提高效率;   连接状态可以简化规则的设置
> * 缺点: 对应用层检测不够深入

**衡量防火墙性能5大指标**

> 1. 吞吐量: 不丢包的情况下, 单位时间内通过的数据包数量
> 2. 时延: 数据包第一个bit进入防火墙到最后一个bit从防火墙输出的时间间隔
> 3. 丢包率: 通过防火墙传送时丢失的数据包数量占发送数据包的比率
> 4. 并发连接数: 防火墙能够同时处理的点对点连接的最大数目  (一般更关心这个指标)
> 5. 新建连接数: 在不丢包的情况下, 每秒可以建立的最大连接数

**防火墙工作模式**

> * 标准应用
>   1. 透明模式
>   2. 路由模式
>   3. 混杂模式

**HA**

> * 两个防火墙互为备份, 实现高可用性

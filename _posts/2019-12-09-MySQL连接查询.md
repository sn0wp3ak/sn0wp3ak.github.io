---
layout: post
title: MySQL连接查询
date: 2019-12-09
categories:
- database
tags:
- mysql
---

连接查询: 需要的数据来自于有关联的多个表拼接<br>

分类:
* 内连接
* 左连接
* 右连接
* 全连接
* 自连接

语法:
```sql
左表 JOIN 右表 ON 条件
```
CROSS JOIN 是两个表交叉连接 - 笛卡尔积<br>

1. 内连接 INNER JOIN 可以简写成 JOIN
```sql
SELECT * FROM 左表 INNER JOIN 右表 ON 左表.字段 运算符 右表.字段;
```
```
 _______ _______
/      /1\      \
|A     111     B|
\______\1/______/
```
A表相关联部分 + B表相关联部分<br>
2. 左连接<br>
在内连接的基础上, 添加来自左表的外部数据, 右表的位置以NULL填充;
```sql
SELECT * FROM 左表 LEFT JOIN 右表 ON 左表.字段 运算符 右表.字段;
```
```
 _______ _______
/111111/1\      \
|A 1111111     B|
\111111\1/______/
```
A表无关联部分 + A表相关联部分 + B表相关联部分<br>
3. 右连接<br>
在内连接的基础上, 添加来自右表的外部数据, 左表的位置以NULL填充;
```sql
SELECT * FROM 左表 RIGHT JOIN 右表 ON 左表.字段 运算符 右表.字段;
```
```
 _______ _______
/      /1\111111\
|A     1111111 B|
\______\1/111111/
```
A表相关联部分 + B表相关联部分 + B表无关联部分<br>
4. 全连接  LEFT JOIN  UNION  RIGHT JOIN
```sql
SELECT * FROM 左表 LEFT JOIN 右表 ON 左表.字段 运算符 右表.字段;
UNION
SELECT * FROM 左表 RIGHT JOIN 右表 ON 左表.字段 运算符 右表.字段;
```
```
 _______ _______
/111111/1\111111\
|A 11111111111 B|
\111111\1/111111/
```
A表和B表的全部数据
5. 自关联  一种特殊的连接方式<br>
左表和右表都是同一张表<br>
自连接`必须`对表`起别名`<br>
```sql
SELECT * FROM 表 AS 别名1 JOIN 表 AS 别名2 ON 别名1.字段1 运算符 别名2.字段2;
```
```
 ________________
/     1    1     \
| A  111  111    |
|    111  111    |
\_____1____1_____/
```



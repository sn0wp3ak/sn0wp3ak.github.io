---
layout: post
title: Linux中的FTP服务
date: 2020-08-04
categories:
- linux
tags:
- ftp
---
FTP - File Transfer Protocol 文件传输协议<br>
> `yum install vsftpd`<br>
> `yum install ftp`<br>


TFTP - Trivial FTP 简易文件传输协议<br>
> `yum install tftp tftp-server`<br>

* 基于UDP
* 简易, 开销小, 但是不如FTP可靠
* 适合传输比较小的琐碎文件

vsftpd - very secure ftp daemon 非常安全的FTP守护进程<br>

> `vsftpd`是一个FTP服务程序<br>
> `ftp`是一个客户端ftp管理工具<br>
> `xinetd`是一个TFTP服务程序<br>

FTP服务占用的端口 20 和 21<br>
* port:20 用来传输数据(up/down)
* port:21 用来传递FTP命令和参数(C->S)

iptables防火墙会默认禁用FTP协议的端口号, 在配置vsftpd服务之前需要清空防火墙策略并保存<br>
```
iptables -F
service iptables save
```
vsftpd服务的主配置文件: `/etc/vsftpd/vsftpd.conf`<br>
想要得到一个比较清爽的配置文件, 以方便管理服务;<br>
先备份配置文件, 在利用grep命令的反选参数以覆盖的方式重定向写入原配置文件<br>
```
mv /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf_bak
grep -v "#" /etc/vsftpd/vsftpd.conf_bak > /etc/vsftpd/vsftpd.conf
```

vsftpd登录服务器的3种认证模式:<br>
* 匿名开放模式
* 本地用户模式
* 虚拟用户模式(推荐)

安全性: 匿名开放 < 本地用户 < 虚拟用户<br>



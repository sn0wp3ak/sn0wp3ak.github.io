---
layout: post
title: 路由原理
date: 2020-08-22
categories:
- Network
---
**路由**

> * 路由器为IP包**选择路径**的过程
> * 跨越从源主机到目标主机的一个互联网络来转发数据包的过程

**路由表**

> * C  直连路由, 自动
> * S  静态路由, 手动
> * S* 默认路由, 手动  `S* 0.0.0.0/0   下一跳`
> * 路由条目中记录的是 `网段  端口号`或者`网段    下一跳IP地址`
> * 想匹配所有地址, 把条目设置成**默认路由** 
> * **边缘路由器**适合配置默认路由

**管理距离值**

> * C   0
> * S   1
> * S*  ∞
> * 

**路由条目的优先级和管理距离值成反比**

> * 优先级:  C  -->  S  -->  S*

**优化路由表**

> * **边缘路由器**  除直连路由以外的条目 可以替换成  **默认路由**
> * 多个路由的**下一跳相同**的情况下,  可以替换成  **默认路由**

**浮动路由**

> * 一般用作备用路由
> * 冲突的静态路由, 优先级低的就会被隐藏起来, 当优先级高的路由消失后, 临时顶替

**路由器交换机的对比**

|              | 路由器      | 交换机          |
| ------------ | ----------- | --------------- |
| **工作层**   | 网络层(3层) | 数据链路层(2层) |
| **转发依据** | 路由表      | MAC地址表       |
| **转发方式** | 路由转发    | 硬件转发        |


I"<p>SSH是一种以安全方式提供远程登录的协议, 目前远程管理Linux的首选方式<br />
在ssh之前, 常用ftp和telnet来进行远程管理;<br />
但是它们都是以明文传输敏感信息, 因此基于安全性考虑, 使用ssh更佳<br /></p>

<p>sshd是基于SSH协议开发的一款远程管理<code class="language-plaintext highlighter-rouge">服务</code>程序<br />
一般用SSH协议远程管理Linux, 都需要部署sshd服务<br /></p>

<p>sshd服务的2种安全验证方式:<br /></p>
<ul>
  <li>口令: 用户名+密码</li>
  <li>密钥: 公私钥(参考github)</li>
</ul>

<p>使用<code class="language-plaintext highlighter-rouge">密钥+口令</code>的验证方式则最为安全<br /></p>

<p>sshd服务的配置信息文件: <code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code><br /></p>

<p>配置文件中的参数和作用:<br /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">参数</th>
      <th style="text-align: left">作用</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Port 22</td>
      <td style="text-align: left">默认服务端口</td>
    </tr>
    <tr>
      <td style="text-align: left">ListenAddress 0.0.0.0</td>
      <td style="text-align: left">监听的IP地址</td>
    </tr>
    <tr>
      <td style="text-align: left">Protocol 2</td>
      <td style="text-align: left">ssh协议版本号</td>
    </tr>
    <tr>
      <td style="text-align: left">PermitRootLogin yes</td>
      <td style="text-align: left">是否允许以root管理员身份登录</td>
    </tr>
    <tr>
      <td style="text-align: left">StrictModes yes</td>
      <td style="text-align: left">私钥改变时直接拒绝</td>
    </tr>
    <tr>
      <td style="text-align: left">MaxAuthTries 6</td>
      <td style="text-align: left">最大密码尝试次数</td>
    </tr>
    <tr>
      <td style="text-align: left">MaxSession 10</td>
      <td style="text-align: left">最大终端数</td>
    </tr>
    <tr>
      <td style="text-align: left">PasswordAuthentication yes</td>
      <td style="text-align: left">是否允许密码验证</td>
    </tr>
    <tr>
      <td style="text-align: left">PermitEmptyPasswords no</td>
      <td style="text-align: left">是否允许空密码登录</td>
    </tr>
    <tr>
      <td style="text-align: left">HostKey /etc/ssh/ssh_host_key</td>
      <td style="text-align: left">ssh v1 DES私钥存放位置</td>
    </tr>
    <tr>
      <td style="text-align: left">HostKey /etc/ssh/ssh_host_rsa_key</td>
      <td style="text-align: left">ssh v2 RSA私钥存放位置</td>
    </tr>
    <tr>
      <td style="text-align: left">HostKey /etc/ssh/ssh_host_dsa_key</td>
      <td style="text-align: left">ssh v2 DSA私钥存放位置</td>
    </tr>
  </tbody>
</table>

<p>禁止以管理员身份远程登录可以大大降低服务器风险: <code class="language-plaintext highlighter-rouge">PermitRootLogin no</code><br /></p>

:ET